# –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –∏ —Ä–µ—à–µ–Ω–∏—è üí°

## üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑

–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≥–ª—É–±–æ–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º VS Code.

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è

### 1. **VS Code Shell Integration API** 
**–ò—Å—Ç–æ—á–Ω–∏–∫**: [Official VS Code Documentation](https://code.visualstudio.com/docs/terminal/shell-integration)
- –ë–∞–∑–æ–≤–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
- Escape sequences –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- –°–æ–±—ã—Ç–∏—è –Ω–∞—á–∞–ª–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–∞ –¥–ª—è `ShellIntegrationStrategy`

### 2. **Microsoft VS Code Extension Samples**
**–ò—Å—Ç–æ—á–Ω–∏–∫**: [GitHub - microsoft/vscode-extension-samples](https://github.com/microsoft/vscode-extension-samples)
- `terminal-sample/` - –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
- `extension-terminal-sample/` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ—Ä—ã WebView –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 3. **Cline Extension**
**–ò—Å—Ç–æ—á–Ω–∏–∫**: –£–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ Stack Overflow –∏ GitHub Issues
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Shell Integration –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –ß—Ç–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è workflow

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å output streams

### 4. **GitHub Issues –∏ Feature Requests**
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**:
- [Issue #190941 - API access to terminal output](https://github.com/microsoft/vscode/issues/190941)
- [Issue #59384 - Get output from terminal sendText](https://github.com/microsoft/vscode/issues/59384)
- [Issue #145234 - Expose shell integration command knowledge](https://github.com/microsoft/vscode/issues/145234)

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ workarounds

### 5. **Stack Overflow Solutions**
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**:
- [How to get terminal output in VSCode extension](https://stackoverflow.com/questions/57111832/)
- [How to use Terminal API to listen to commands](https://stackoverflow.com/questions/57630371/)
- [Alternative of onDidWriteTerminalData](https://stackoverflow.com/questions/71894392/)

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Strategy Pattern (–ü–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥–∏—è)
**–ò—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è**: Gang of Four Design Patterns
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
interface ITerminalStrategy {
    readonly name: string;
    readonly priority: number;
    isAvailable(terminal: Terminal): Promise<boolean>;
    sendCommand(terminal: Terminal, command: string): Promise<void>;
}
```

### Modular Architecture (–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
**–ò—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è**: Clean Architecture (Robert Martin)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```
interfaces/     - –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
terminal/       - –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
strategies/     - –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
```

### Event-Driven Architecture
**–ò—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è**: VS Code Extension API patterns
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
- Decoupled communication

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### 1. **Shell Integration Detection**
```typescript
async waitForShellIntegration(terminal: Terminal): Promise<ShellIntegration> {
    return new Promise((resolve, reject) => {
        const listener = vscode.window.onDidChangeTerminalShellIntegration((event) => {
            if (event.terminal === terminal) {
                resolve(event.shellIntegration);
            }
        });
    });
}
```
**–ò—Å—Ç–æ—á–Ω–∏–∫**: VS Code API Documentation + community solutions

### 2. **Output Stream Processing**
```typescript
const stream = execution.read();
for await (const data of stream) {
    callback(data);
}
```
**–ò—Å—Ç–æ—á–Ω–∏–∫**: Node.js AsyncIterable patterns + VS Code examples

### 3. **Graceful Fallback**
```typescript
// –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Shell Integration
if (terminal.shellIntegration) {
    return new ShellIntegrationStrategy();
} else {
    return new SendTextStrategy(); // Fallback
}
```
**–ò—Å—Ç–æ—á–Ω–∏–∫**: Defensive programming practices

### 4. **State Management**
```typescript
enum TerminalState {
    INACTIVE = 'inactive',
    INITIALIZING = 'initializing',
    CLAUDE_READY = 'claude_ready',
    // ...
}
```
**–ò—Å—Ç–æ—á–Ω–∏–∫**: Redux/Vuex state management patterns

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ—Å—É—Ä—Å—ã

### VS Code API References
- [Terminal API](https://code.visualstudio.com/api/references/vscode-api#Terminal)
- [TerminalShellIntegration](https://code.visualstudio.com/api/references/vscode-api#TerminalShellIntegration)
- [WebviewView API](https://code.visualstudio.com/api/references/vscode-api#WebviewView)

### Shell Integration Guides
- [Terminal Shell Integration](https://code.visualstudio.com/docs/terminal/shell-integration)
- [Shell Integration Escape Sequences](https://github.com/microsoft/vscode-docs/blob/main/docs/terminal/shell-integration.md)

### Community Resources
- [awesome-vscode](https://viatsko.github.io/awesome-vscode/) - curated VS Code resources
- [VS Code Extension Guidelines](https://code.visualstudio.com/api/references/extension-guidelines)

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ—Ä—ã–≤—ã

### 1. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ Shell Integration API**
–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –ø–æ–ø—ã—Ç–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è deprecated `onDidWriteTerminalData` –∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º—É Shell Integration API —Å—Ç–∞–ª –∫–ª—é—á–µ–≤—ã–º —Ä–µ—à–µ–Ω–∏–µ–º.

### 2. **Strategy Pattern –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –ø–æ–∑–≤–æ–ª–∏–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –Ω–æ–≤—ã–µ (1.88+), —Ç–∞–∫ –∏ —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ VS Code.

### 3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –≤—ã–≤–æ–¥–∞**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AsyncIterable –¥–ª—è —á—Ç–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–ª–æ real-time –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã–≤–æ–¥–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

### 4. **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏ —É–ø—Ä–æ—Å—Ç–∏–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## üöÄ –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 1. **–ì–∏–±—Ä–∏–¥–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
–°–æ—á–µ—Ç–∞–Ω–∏–µ Shell Integration API —Å fallback –Ω–∞ sendText - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

### 2. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞**
–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ - –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ –¥—Ä—É–≥–∏—Ö —Ä–µ—à–µ–Ω–∏—è—Ö.

### 3. **–ö–ª–∞—Å—Ç–µ—Ä–Ω–∞—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ enterprise-–ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ VS Code —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

### 4. **Real-time —Å—Ç–∞—Ç—É—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**
–í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## üìà –†–∞–∑–≤–∏—Ç–∏–µ –∏–¥–µ–∏

–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª–æ –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ proxy –∫ Claude CLI –¥–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

1. **v0.0.1**: –ü—Ä–æ—Å—Ç–æ–π spawn –ø—Ä–æ—Ü–µ—Å—Å–∞
2. **v0.0.2**: WebView –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
3. **v0.1.0**: Shell Integration + –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **Microsoft VS Code Team** - –∑–∞ Shell Integration API
- **Community contributors** - –∑–∞ GitHub Issues –∏ Stack Overflow —Ä–µ—à–µ–Ω–∏—è
- **Anthropic Claude Code Team** - –∑–∞ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- **Open Source Community** - –∑–∞ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

---

*–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Ä–∞–∂–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–µ–ª–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é Claude Code Bridge v2*